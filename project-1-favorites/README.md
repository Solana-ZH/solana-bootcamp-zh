# é¡¹ç›®ä¸€ï¼šFavorites Application

è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ Anchor å’Œç¨‹åºæ´¾ç”Ÿåœ°å€ï¼ˆPDAï¼‰æ„å»ºçš„åŸºç¡€åº”ç”¨ï¼Œç”¨äºä¸ºç”¨æˆ·å­˜å‚¨æ•°æ®ã€‚è¯¥é¡¹ç›®è¿˜ä½¿ç”¨ Anchor çš„è´¦æˆ·æ£€æŸ¥åŠŸèƒ½ï¼Œç¡®ä¿æ¯ä½ç”¨æˆ·åªèƒ½ä¿®æ”¹å±äºè‡ªå·±çš„æ•°æ®ã€‚

---

## ğŸš€ è¿è¡Œæœ¬é¡¹ç›®

æˆ‘ä»¬å¼ºçƒˆå»ºè®®ä½ [åˆ›å»ºä¸€ä¸ªå±äºè‡ªå·±çš„ GitHub ä»“åº“](https://github.com/new)ï¼Œå¹¶è·Ÿéšæ•™å­¦è§†é¢‘é€æ­¥æ„å»ºé¡¹ç›®ã€‚è¿™æ ·ä¸ä»…èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°å­¦ä¹ ï¼Œä¹Ÿæ–¹ä¾¿ä½ æ—¥åæŸ¥é˜…ã€‚

å¦‚æœä½ æƒ³ç›´æ¥æŸ¥çœ‹é¡¹ç›®æœ€ç»ˆæ•ˆæœï¼Œå¯ä»¥å…‹éš†æœ¬ä»“åº“ï¼Œå¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```
npm i
anchor build
anchor test
```

æµ‹è¯•é€šè¿‡åï¼Œä½ å°†ä¼šçœ‹åˆ°æˆåŠŸçš„æµ‹è¯•ç»“æœã€‚

---

## ğŸ“š æ•™ç¨‹æ–‡æ¡£
> æˆ‘ä»¬è¦åˆ¶ä½œçš„ç¬¬ä¸€ä¸ªæ™ºèƒ½åˆçº¦ä¼šéå¸¸ç®€å•ã€‚
> å®ƒçš„åŠŸèƒ½æ˜¯ï¼š**æŠŠæˆ‘ä»¬æœ€å–œæ¬¢çš„ä¸œè¥¿å­˜å‚¨åˆ°åŒºå—é“¾ä¸Š**ã€‚
> 
> é€šè¿‡è¿™ä¸ªé¡¹ç›®ï¼Œæˆ‘ä»¬å°†å­¦ä¹ ï¼š
> 
- å¦‚ä½•åœ¨åŒºå—é“¾ä¸Šä¿å­˜ã€æ›´æ–°å’Œè¯»å–æ•°æ®ï¼›
- ä»¥åŠå¦‚ä½•é€šè¿‡ç­¾åæ§åˆ¶æ™ºèƒ½åˆçº¦çš„æ•°æ®è®¿é—®æƒé™ã€‚

åœ¨ä¸Šä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†æ¯ä¸ªç”¨æˆ·éƒ½ä¼šæœ‰ä¸€å¯¹**å¯†é’¥å¯¹ï¼ˆKey Pairï¼‰**ï¼š

- å…¬é’¥ï¼ˆPublic Keyï¼‰ï¼šå¯ä»¥å½“ä½œåœ°å€ï¼Œåˆ«äººå¯ä»¥å‘è¿™ä¸ªåœ°å€è½¬è´¦ã€‚
- ç§é’¥ï¼ˆPrivate Keyï¼‰ï¼šè‡ªå·±æŒæœ‰ï¼Œç”¨æ¥**å¯¹äº¤æ˜“è¿›è¡Œç­¾å**ï¼Œè¯æ˜æ˜¯æœ¬äººå‘èµ·çš„ã€‚

è€Œåœ¨ Solana ä¸Šï¼Œ

**æ™ºèƒ½åˆçº¦ï¼ˆä¹Ÿå« Programï¼‰å¯ä»¥é€šè¿‡â€œç¨‹åºæ´¾ç”Ÿåœ°å€ï¼ˆPDAï¼ŒProgram Derived Addressï¼‰â€æ¥å­˜å‚¨é¢å¤–çš„æ•°æ®**ã€‚

PDA å’Œæ™®é€šè´¦æˆ·æœ‰ä¸ªå¾ˆå¤§ä¸åŒï¼š

- **æ™®é€šè´¦æˆ·**æ˜¯é€šè¿‡ç§é’¥ç”Ÿæˆçš„ï¼›
- **PDAè´¦æˆ·**ä¸æ˜¯ä»ç§é’¥æ¨å¯¼å‡ºæ¥çš„ï¼Œè€Œæ˜¯ç”±ä½ ç¼–ç¨‹æ—¶è‡ªå®šä¹‰çš„ä¸€ç»„**ç§å­ï¼ˆSeedï¼‰**ç”Ÿæˆçš„ã€‚

æ¯”å¦‚è¯´ï¼š

- æƒ³ä¿å­˜æ™ºèƒ½åˆçº¦çš„é…ç½®ä¿¡æ¯ï¼Ÿå¯ä»¥ç”¨ç§å­ `"config"` ç”Ÿæˆä¸€ä¸ª PDAï¼Œå­˜å‚¨é…ç½®ä¿¡æ¯ã€‚
- æƒ³ä¿å­˜ Alice å¯¹ç”µå½±ã€Šæ³°å¦å°¼å…‹å·ã€‹çš„è¯„è®ºï¼Ÿ
    
    å°±å¯ä»¥æŠŠ `"Aliceçš„é’±åŒ…åœ°å€"` + `"Titanic"` å­—ç¬¦ä¸²ï¼Œç»„åˆæˆç§å­ï¼Œç”Ÿæˆä¸€ä¸ª PDA å­˜å‚¨å¥¹çš„è¯„è®ºã€‚
    
- æƒ³ä¿å­˜ Bob å¯¹åŒä¸€éƒ¨ç”µå½±çš„è¯„è®ºï¼Ÿ
    
    é‚£å°±ç”¨ `"Bobçš„é’±åŒ…åœ°å€"` + `"Titanic"` æ¥ç”Ÿæˆå±äº Bob çš„è¯„è®º PDAã€‚
    

å¦‚æœä½ ä»¥å‰ç”¨è¿‡**é”®å€¼å¯¹å­˜å‚¨ï¼ˆKey-Value Storeï¼‰**ï¼Œä¼šå‘ç° PDA çš„æ€è·¯å¾ˆåƒã€‚

å¦‚æœæ²¡ç”¨è¿‡ï¼Œä¹Ÿå¯ä»¥ç®€å•ç†è§£ï¼š

- **PDA å°±åƒæ•°æ®åº“ä¸­çš„ä¸€è¡Œæ•°æ®**ï¼Œ
- **seedå°±æ˜¯è¿™è¡Œæ•°æ®çš„ä¸»é”®ï¼ˆPrimary Keyï¼‰**ï¼Œ
    
    é€šè¿‡è¿™ä¸ªä¸»é”®ï¼Œæˆ‘ä»¬èƒ½å¿«é€Ÿå®šä½å¹¶è®¿é—®ç‰¹å®šçš„æ•°æ®ã€‚
    

---

> æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±æ¥åŠ¨æ‰‹ï¼Œ
> 
> 
> æ­å»ºä¸€ä¸ª**å¯ä»¥æŠŠç”¨æˆ·æœ€å–œæ¬¢çš„ä¸œè¥¿ä¿å­˜åˆ°åŒºå—é“¾ä¸Š**çš„å°ç¨‹åºï¼Œ
> 
> å¹¶ä¸”é€šè¿‡æ•°å­—ç­¾åï¼Œç¡®ä¿**åªæœ‰é’±åŒ…æŒæœ‰è€…è‡ªå·±å¯ä»¥æ›´æ–°è‡ªå·±çš„æ•°æ®**ã€‚
> 

ä¸ºäº†å¼€å‘æ–¹ä¾¿ï¼Œ

æˆ‘ä»¬ä¼šä½¿ç”¨ï¼š

- **Solana Playground**ï¼šä¸€ä¸ªå¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸Šç¼–å†™ Solana æ™ºèƒ½åˆçº¦çš„å¹³å°ï¼›
- **Anchor**ï¼šç›®å‰æœ€æµè¡Œçš„ Solana æ™ºèƒ½åˆçº¦å¼€å‘æ¡†æ¶ã€‚

æ­¥éª¤å¦‚ä¸‹ï¼š

1. æ‰“å¼€Solana Playgroundç½‘ç«™ [beta.solpg.io](https://beta.solpg.io/)ï¼›
2. ç‚¹å‡» **"Create a New Project"**ï¼›
3. ç»™ä½ çš„é¡¹ç›®èµ·ä¸ªåå­—ï¼Œæ¯”å¦‚æˆ‘è¿™é‡Œå°±å–åå« **"favorites"**ï¼Œå› ä¸ºæˆ‘ä»¬è¦ä¿å­˜æœ€å–œæ¬¢çš„ä¸œè¥¿ï¼›
4. è®°å¾—é€‰æ‹© **Anchor** ä½œä¸ºé¡¹ç›®ç±»å‹ï¼›
5. ç‚¹å‡» **Create** åˆ›å»ºé¡¹ç›®ã€‚

åˆ›å»ºå®Œæˆåï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªåˆå§‹æ–‡ä»¶ `lib.rs`ã€‚

ä¸è¿‡ä¸ºäº†ä»é›¶å¼€å§‹å­¦ä¹ ï¼Œ

æˆ‘ä»¬è¿™é‡Œä¼š**æŠŠ `lib.rs` æ–‡ä»¶ä¸­çš„å†…å®¹å…¨éƒ¨åˆ é™¤**ï¼Œ

è‡ªå·±ä¸€æ­¥æ­¥æ‰‹åŠ¨ç¼–å†™åˆçº¦ã€‚

> åœ¨ä»»ä½•ä¸€ä¸ª Anchor æ™ºèƒ½åˆçº¦é¡¹ç›®ä¸­ï¼Œ
> 
> 
> é€šå¸¸æˆ‘ä»¬å†™çš„ç¬¬ä¸€è¡Œä»£ç éƒ½æ˜¯å¯¼å…¥æ‰€è°“çš„ **Anchor Preludeï¼ˆå‰ç½®åº“ï¼‰**ã€‚
> 

è¿™æ®µä»£ç æ˜¯è¿™æ ·çš„ï¼š

```rust
use anchor_lang::prelude::*;
```

ä½œç”¨æ˜¯ï¼š

- æŠŠ Anchor æ¡†æ¶ä¸­å¸¸ç”¨çš„ç±»å‹ã€å®ï¼ˆmacroï¼‰ç­‰å·¥å…·ä¸€æ¬¡æ€§å¯¼å…¥è¿›æ¥ï¼›
- è¿™æ ·åç»­æˆ‘ä»¬å†™ä»£ç æ—¶å°±å¯ä»¥ç›´æ¥è°ƒç”¨è¿™äº›å·¥å…·ï¼Œè€Œä¸ç”¨æ¯æ¬¡éƒ½å†™å®Œæ•´è·¯å¾„ï¼Œéå¸¸æ–¹ä¾¿ã€‚
    
    

> åœ¨ Solana ä¸­ï¼Œæ¯ä¸€ä¸ªæ™ºèƒ½åˆçº¦ï¼ˆProgramï¼‰éƒ½æœ‰ä¸€ä¸ªProgram IDï¼ˆä¹Ÿå°±æ˜¯åˆçº¦åœ°å€ï¼‰ã€‚
> 
> ä¸è¿‡åœ¨ **Solana Playground** é‡Œï¼Œè¿™ä¸ªåœ°å€**ä¸éœ€è¦æ‰‹åŠ¨å¡«å†™**
> 
> å½“æˆ‘ä»¬éƒ¨ç½²ç¨‹åºçš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬ç”Ÿæˆå¹¶å¡«å¥½ã€‚
> 

ä¸ºäº†è®©ä»£ç æ›´æ•´æ´ï¼Œæˆ‘ä»¬è¿˜è¦å…ˆå®šä¹‰ä¸€ä¸ªå¸¸é‡ï¼š

```rust
const ANCHOR_DISCRIMINATOR_SIZE: usize = 8;
```

è¿™è¡Œä»£ç çš„å«ä¹‰æ˜¯ï¼š

- åœ¨ Anchor ä¸­ï¼Œæ¯ä¸€ä¸ªé“¾ä¸Šè´¦æˆ·ï¼Œç³»ç»Ÿéƒ½ä¼šé¢„ç•™ 8 å­—èŠ‚ï¼Œ
    
    ç”¨æ¥å­˜æ”¾ **Discriminator**ï¼Œä¹Ÿå°±æ˜¯**è´¦æˆ·ç±»å‹æ ‡è¯†ç¬¦**ï¼›
    
- å½“æˆ‘ä»¬åœ¨é“¾ä¸Šä¿å­˜æ•°æ®æ—¶ï¼Œ
    
    **å­˜å‚¨ç©ºé—´ = 8 å­—èŠ‚ Discriminator + å®é™…æ•°æ®å¤§å°**ã€‚
    

è¿™ä¸ªå®šä¹‰ï¼Œåç»­åœ¨è®¡ç®—ç©ºé—´å¤§å°æ—¶ä¼šéå¸¸æœ‰ç”¨ã€‚

> Anchor æœ‰ä¸€ä¸ªå¾ˆæ£’çš„è®¾è®¡ï¼š
> 
> 
> **å¯ä»¥æŠŠæ™®é€šçš„ Rust æ¨¡å—ï¼ˆModuleï¼‰ï¼Œé€šè¿‡ä¸€ä¸ªå®ï¼ˆmacroï¼‰ç›´æ¥å˜æˆ Solana æ™ºèƒ½åˆçº¦ï¼ˆProgramï¼‰**ã€‚
> 

åŸºæœ¬çš„ç»“æ„æ˜¯è¿™æ ·çš„ï¼š

```rust
#[program]
pub mod favorites {
    use super::*;

    pub fn set_favorites() -> Result<()> {
        // å‡½æ•°ä½“åé¢å†å†™
    }
}

```

è¿™ä¸€æ®µä»£ç çš„å«ä¹‰æ˜¯ï¼š

- åˆ›å»ºäº†ä¸€ä¸ªæ¨¡å—ï¼Œåå­—å«åš `favorites`ï¼›
- åœ¨æ¨¡å—ä¸ŠåŠ äº†ä¸€ä¸ª `#[program]` å®ï¼Œ
    
    è¿™å°±å‘Šè¯‰ Anchorï¼šã€Œè¿™ä¸ªæ¨¡å—æ˜¯ä¸€ä¸ª Solana æ™ºèƒ½åˆçº¦ã€ï¼›
    
- åœ¨æ¨¡å—å†…éƒ¨ï¼Œæ¯ä¸€ä¸ªå‡½æ•°ï¼ˆæ¯”å¦‚ `set_favorites`ï¼‰éƒ½ä¼šè¢«å½“æˆä¸€æ¡**æŒ‡ä»¤å¤„ç†å™¨ï¼ˆInstruction Handlerï¼‰**ã€‚

è€Œ `set_favorites` è¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯ï¼š

**è®©ç”¨æˆ·èƒ½å¤ŸæŠŠè‡ªå·±æœ€å–œæ¬¢çš„æ•°å­—ã€é¢œè‰²å’Œçˆ±å¥½åˆ—è¡¨ï¼Œä¿å­˜åˆ°åŒºå—é“¾ä¸Š**ã€‚

> æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¦å®šä¹‰ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œ
> 
> ä¸“é—¨ç”¨æ¥ä¿å­˜ç”¨æˆ·ä¸Šä¼ çš„æœ€çˆ±ä¿¡æ¯ã€‚
> 

ä»£ç å¦‚ä¸‹ï¼š

```rust
#[account]
#[derive(InitSpace)]
pub struct Favorites {
    pub number: u64,
    #[max_len(50)]
    pub color: String,
    #[max_len(5, 50)]
    pub hobbies: Vec<String>,
}

```

è§£é‡Šä¸€ä¸‹ï¼š

- `#[account]`ï¼šå‘Šè¯‰ Anchorï¼Œè¿™ä¸ªç»“æ„ä½“æ˜¯è¦å­˜åˆ°é“¾ä¸Šçš„è´¦æˆ·æ•°æ®ï¼›
- `#[derive(InitSpace)]`ï¼šè®© Anchor èƒ½è‡ªåŠ¨è®¡ç®—è¿™ä¸ªç»“æ„ä½“éœ€è¦é¢„ç•™å¤šå°‘å­˜å‚¨ç©ºé—´ï¼›
- `#[max_len(N)]`ï¼šå¯¹äºå­—ç¬¦ä¸²ï¼ˆStringï¼‰æˆ–å­—ç¬¦ä¸²æ•°ç»„ï¼ˆVec<String>ï¼‰è¿™ç§é•¿åº¦å¯å˜çš„æ•°æ®ï¼Œ
    
    æˆ‘ä»¬éœ€è¦æå‰æŒ‡å®šä¸€ä¸ª**æœ€å¤§é•¿åº¦**ï¼Œä»¥ä¾¿ Anchor åœ¨åˆ†é…ç©ºé—´æ—¶ç•™è¶³ã€‚
    

åœ¨è¿™é‡Œï¼š

- `color` æœ€å¤šå¯ä»¥å­˜ 50 ä¸ªå­—ç¬¦ï¼›
- `hobbies` æœ€å¤šå¯ä»¥å­˜ 5 ä¸ªå­—ç¬¦ä¸²ï¼ˆæ¯ä¸ªå­—ç¬¦ä¸²ä¹Ÿæœ‰æœ€å¤§é•¿åº¦é™åˆ¶ï¼Œè¿™åé¢è¿˜ä¼šç»†åŒ–ï¼‰ã€‚

> å½“ç”¨æˆ·è°ƒç”¨ set_favorites è¿™ä¸ªå‡½æ•°æ—¶ï¼Œ
> 
> 
> **éœ€è¦æå‰å‘Šè¯‰é“¾ä¸Šï¼šè¿™æ¬¡äº¤æ˜“ä¼šè¯»å–æˆ–ä¿®æ”¹å“ªäº›è´¦æˆ·**ã€‚
> 

Solana æœ‰ä¸€ä¸ªå¾ˆç‰¹åˆ«çš„è®¾è®¡ï¼š

- æ‰€æœ‰äº¤æ˜“åœ¨å‘èµ·ä¹‹å‰ï¼Œå¿…é¡»åˆ—å‡ºä¼šç”¨åˆ°çš„æ‰€æœ‰è´¦æˆ·ï¼ˆæ— è®ºæ˜¯è¯»è¿˜æ˜¯å†™ï¼‰ï¼›
- è¿™æ · Solana å¯ä»¥å®ç°**é«˜å¹¶å‘å¤„ç†**ï¼Œ
    
    åªè¦ä¸¤ä¸ªäº¤æ˜“æ“ä½œçš„è´¦æˆ·ä¸åŒï¼Œå°±å¯ä»¥**åŒæ—¶å¹¶è¡Œæ‰§è¡Œ**ã€‚
    

ä¸ºäº†å®šä¹‰æŒ‡ä»¤éœ€è¦å“ªäº›è´¦æˆ·ï¼Œ

æˆ‘ä»¬è¦å†™ä¸€ä¸ªç»“æ„ä½“ï¼ˆStructï¼‰ï¼Œå¹¶åŠ ä¸Š `#[derive(Accounts)]` æ ‡æ³¨ã€‚

é’ˆå¯¹ `set_favorites` æŒ‡ä»¤ï¼Œè´¦æˆ·åˆ—è¡¨ç»“æ„å¦‚ä¸‹ï¼š

```jsx
#[derive(Accounts)]
pub struct SetFavorites<'info> {
    #[account(mut, signer)]
    pub user: Signer<'info>,

    #[account(
        init_if_needed,
        payer = user,
        space = ANCHOR_DISCRIMINATOR_SIZE + Favorites::INIT_SPACE,
        seeds = [b"favorites", user.key().as_ref()],
        bump,
    )]
    pub favorites: Account<'info, Favorites>,

    pub system_program: Program<'info, System>,
}
```

è¯¦ç»†è§£é‡Šä¸€ä¸‹ï¼š

- `â€˜info`: è¿™äº›è´¦æˆ·ä¿¡æ¯ä¼šåœ¨Solanaè´¦æˆ·infoå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå†…å­˜åœ¨ - å› ä¸ºrustå¯¹å†…å­˜ä¸­éœ€è¦å­˜å¤šä¹…æœ‰è¦æ±‚
- `user`ï¼š
    - `mut`ï¼šè¡¨ç¤ºè¿™ä¸ªè´¦æˆ·åœ¨äº¤æ˜“è¿‡ç¨‹ä¸­ä¼šè¢«ä¿®æ”¹ï¼›è®¾ç½®è¿™ä¸ªè´¦æˆ·çš„signeræ¥payï¼Œåœ¨é“¾ä¸Šåˆ›å»ºfavourate account
    - `signer`ï¼šè¡¨ç¤ºå¿…é¡»ç”±è¿™ä¸ªè´¦æˆ·çš„ç§é’¥ç­¾åç¡®è®¤ã€‚
- `favorites`ï¼š
    - è¿™æ˜¯è°ƒç”¨favourateçš„é’±åŒ…è´¦æˆ·éœ€è¦æŒ‡å®šè¦å†™å…¥åˆ°å“ªä¸ªfavourateè´¦æˆ·ï¼Œï¼›
    - ä¿å­˜ç”¨æˆ·æœ€å–œæ¬¢ä¿¡æ¯çš„è´¦æˆ·ï¼›
    - `init_if_needed`ï¼šå¦‚æœè´¦æˆ·ä¸å­˜åœ¨ï¼Œå°±è‡ªåŠ¨åˆå§‹åŒ–ï¼›
    - `payer = user`ï¼šæ–°è´¦æˆ·çš„åˆ›å»ºè´¹ç”¨ç”± `user` æ”¯ä»˜ï¼›
    - `space`ï¼šåˆ†é…çš„å­˜å‚¨ç©ºé—´æ˜¯ 8 å­—èŠ‚ Discriminator + Favoritesç»“æ„éœ€è¦çš„ç©ºé—´ï¼›
    - `seeds`ï¼šç”Ÿæˆ PDA çš„ç§å­ä¸º `"favorites"` å­—ç¬¦ä¸² å’Œ ç”¨æˆ·é’±åŒ…åœ°å€ï¼›
    - `bump`ï¼šç”¨äºç¡®ä¿ PDA åœ°å€ç”Ÿæˆæ—¶èƒ½é¿å¼€ç¢°æ’ã€‚
- `system_program`ï¼š
    - ç³»ç»Ÿç¨‹åºè´¦æˆ·ï¼Œç”¨æ¥æ”¯æŒè´¦æˆ·åˆ›å»ºç­‰åŸºç¡€æ“ä½œã€‚

> ç°åœ¨æˆ‘ä»¬æ¥å®Œæˆ set_favorites å‡½æ•°çš„å…·ä½“å®ç°ã€‚
> 
> åœ¨å‡½æ•°ä½“ä¸­ï¼Œæˆ‘ä»¬ä¼šï¼š
> 
- æ‰“å°ä¸¤æ¡æ—¥å¿—ï¼›
- è¾“å‡ºç”¨æˆ·çš„é’±åŒ…å…¬é’¥åœ°å€
- è¾“å‡ºç”¨æˆ·è®¾ç½®çš„ favorites æ•°æ®

å…·ä½“ä»£ç å¦‚ä¸‹ï¼š

```rust
#[program]
pub mod favorites {
    use super::*;

    pub fn set_favorites(ctx: Context<SetFavorites>, number: u64, color: String, hobbies: Vec<String>) -> Result<()> {
        // å‡½æ•°ä½“åé¢å†å†™
        msg!("Greetings from {}", context.program_id);
        let user_public_key = context.accounts.user.key();
        
          msg!(
            "User {}'s favourite number is {}, favourite color is {}, and their hobbies are {:?}",
            user_public_key,
            number,
            color,
            hobbies
        );
        
        Ok(()) // Ok å†™ä¿¡æ¯ä¸Šé“¾
    }
}
```

è§£é‡Šä¸€ä¸‹ï¼š

- `msg!`ï¼šæ˜¯ Anchor æä¾›çš„æ—¥å¿—å®ï¼Œå¯ä»¥æŠŠä¿¡æ¯æ‰“å°åˆ°é“¾ä¸Šäº¤æ˜“æ—¥å¿—ï¼ˆå¯ä»¥åœ¨ Solana Explorer ä¸Šçœ‹åˆ°ï¼‰ï¼›
- `favorites`ï¼šé€šè¿‡ `&mut` å…³é”®å­—è·å–åˆ°å¯ä¿®æ”¹å¼•ç”¨ï¼Œç„¶åæŠŠæ–°çš„ `number`ã€`color`ã€`hobbies` èµ‹å€¼è¿›å»ï¼›
- `Ok(())`ï¼šè¡¨ç¤ºå‡½æ•°æ‰§è¡ŒæˆåŠŸï¼Œæ²¡æœ‰é”™è¯¯ã€‚

é€šè¿‡è¿™ä¸€æ®µä»£ç ï¼Œ

**ç”¨æˆ·å°±å¯ä»¥é€šè¿‡è°ƒç”¨ set_favoritesï¼Œä¸Šä¼ è‡ªå·±çš„æœ€çˆ±ä¿¡æ¯åˆ°é“¾ä¸Šäº†ï¼**

> ç°åœ¨æˆ‘ä»¬çš„æ™ºèƒ½åˆçº¦ä»£ç å·²ç»å†™å¥½äº†ï¼Œ
> 
> ä¸‹ä¸€æ­¥å°±æ˜¯ **ç¼–è¯‘å¹¶éƒ¨ç½²åˆ°é“¾ä¸Š**ï¼
> 

æ­¥éª¤å¦‚ä¸‹ï¼š

1. åœ¨ Solana Playground ä¸­ç‚¹å‡» **"Build"** æŒ‰é’®ã€‚
    - è¿™ä¸€æ­¥ä¼šæŠŠæˆ‘ä»¬ç”¨ Rust å†™çš„æ™ºèƒ½åˆçº¦ï¼Œç¼–è¯‘æˆå¯ä»¥åœ¨ Solana é“¾ä¸Šè¿è¡Œçš„äºŒè¿›åˆ¶ç¨‹åºã€‚
    - å¦‚æœä»£ç é‡Œæœ‰è¯­æ³•é”™è¯¯æˆ–è€…é€»è¾‘é”™è¯¯ï¼Œç¼–è¯‘æ—¶ä¼šæŠ¥é”™ã€‚
    - ç¼–è¯‘æˆåŠŸçš„è¯ï¼Œç•Œé¢ä¸Šä¼šæ˜¾ç¤ºæˆåŠŸæç¤ºã€‚
2. ç„¶åç‚¹å‡» **"Deploy"** æŒ‰é’®ã€‚
    - è¿™ä¸€æ­¥ä¼šæŠŠç¼–è¯‘å¥½çš„ç¨‹åºéƒ¨ç½²åˆ° **Devnetï¼ˆå¼€å‘æµ‹è¯•ç½‘ç»œï¼‰**ã€‚
    - æ³¨æ„ï¼ŒDevnet æ˜¯ Solana å®˜æ–¹æä¾›çš„æµ‹è¯•é“¾ï¼Œä¸ç”¨æ¶ˆè€—çœŸæ­£çš„ SOLã€‚
    - éƒ¨ç½²è¿‡ç¨‹ä¸­ï¼Œä¼šç”Ÿæˆä¸€ç¬”é“¾ä¸Šäº¤æ˜“ï¼š
        - ä¸ºä½ çš„ç¨‹åºåˆ†é…ä¸€ä¸ªå”¯ä¸€çš„ Program IDï¼›
        - æŠŠåˆçº¦çš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸Šä¼ åˆ°é“¾ä¸Šã€‚
    - éƒ¨ç½²å®Œæˆåï¼ŒSolana Playground ä¼šè‡ªåŠ¨æŠŠæ–°çš„ Program ID å¡«å…¥é¡¹ç›®è®¾ç½®ä¸­ã€‚

> åˆçº¦éƒ¨ç½²å®Œæˆåï¼Œ
> 
> 
> æˆ‘ä»¬å¯ä»¥å¼€å§‹**æµ‹è¯•**å•¦ï¼
> 

æµ‹è¯•æ­¥éª¤å¦‚ä¸‹ï¼š

1. åœ¨ Playground ä¸­åˆ‡æ¢åˆ° **"Explorer"** æ ‡ç­¾é¡µï¼›
2. ç‚¹å‡» **"Create Transaction"** æŒ‰é’®ï¼›
3. åœ¨å¼¹å‡ºçš„ç•Œé¢ä¸­ï¼Œé€‰æ‹©æ–¹æ³•ï¼ˆMethodï¼‰ä¸º `set_favorites`ï¼›
4. å¡«å…¥éœ€è¦ä¼ å…¥çš„å‚æ•°ï¼Œæ¯”å¦‚ï¼š
    - numberï¼š7
    - colorï¼š"Blue"
    - hobbiesï¼š["Hiking", "Chess"]
5. å¡«å¥½åï¼Œç‚¹å‡» **"Execute Transaction"** æ‰§è¡Œäº¤æ˜“ã€‚

æ‰§è¡Œæ—¶ï¼Œç³»ç»Ÿä¼šï¼š

- è‡ªåŠ¨å¸®ä½ ç”¨é’±åŒ…ç­¾åï¼›
- æŠŠäº¤æ˜“å‘é€åˆ°ä½ åˆšæ‰éƒ¨ç½²çš„ Programï¼›
- è°ƒç”¨ `set_favorites` æ–¹æ³•ï¼ŒæŠŠä½ çš„æœ€çˆ±ä¿¡æ¯ä¿å­˜åˆ°é“¾ä¸Šã€‚

å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œ

- ä½ ä¼šçœ‹åˆ°äº¤æ˜“æˆåŠŸï¼›
- è¿˜ä¼šåœ¨é“¾ä¸Šç”Ÿæˆä¸€ä¸ªæ–°çš„è´¦æˆ·ï¼Œç”¨æ¥ä¿å­˜ä½ ä¸Šä¼ çš„ Favorites æ•°æ®ï¼
